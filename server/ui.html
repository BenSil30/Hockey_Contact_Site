<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Hockey Contact Form</title>

		<!--  immediate rendering while CSS loads -->
		<style>
			body {
				font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
				margin: 0;
				padding: 20px;
				background: transparent;
				background: linear-gradient(180deg, #18181b, #23272f);
			}
			#dropdown[hidden] {
				display: none;
			}
		</style>

		<link rel="stylesheet" href="/css/style.css" />
	</head>
	<body>
		<div class="container">
			<header class="header" role="banner">
				<div>
					<h1>Hockey Advocacy Forms</h1>
					<div class="small">
						Select recipients and assign templates below. You can edit the
						templates by clicking the 'edit' button before sending.
					</div>
					<div class="small">
						Please note that these emails will be sent from your personal email
						address and you are solely responsible for the content
					</div>
				</div>
				<div>
					<button id="logout" type="button">Log out</button>
				</div>
			</header>

			<!-- Templates bar (full-width card above layout) -->
			<div id="templates" class="templates-card" aria-live="polite">
				<div class="muted">Loading templatesâ€¦</div>
			</div>

			<!-- Two-column layout: left = search/list, right = info -->
			<div class="layout">
				<section class="panel" aria-labelledby="pick-emails">
					<h2 id="pick-emails">Pick emails</h2>
					<p class="muted">
						Search the list of emails and add recipients to your selection.
					</p>

					<div class="search-wrap" aria-haspopup="listbox">
						<input
							id="search"
							name="search"
							placeholder="Search by name, email, or organization"
							aria-label="Search emails"
							autocomplete="off"
						/>
						<div id="dropdown" class="dropdown" role="listbox" hidden></div>
					</div>

					<div class="selected-list" id="selectedList" aria-live="polite"></div>
				</section>

				<!-- Right: Information -->
				<aside class="info-panel" aria-labelledby="assign-templates">
					<section class="panel">
						<h3 id="assign-templates">Info and Coverage</h3>

						<div style="padding: 12px; margin: 12px 0">
							<button>
								<h2>
									<a
										class="buttonLink"
										href="https://docs.google.com/document/u/0/d/1HVX9LF_0gv8snAmh_NDKBWchCr1kEiBkoBL98qx68N8/mobilebasic"
										target="_blank"
										rel="noopener noreferrer"
									>
										Shareable Google Document
									</a>
								</h2>
							</button>
							<p class="muted">
								Inspiration for the site, and contains almost all information
								used here
							</p>
						</div>
						<div style="padding: 12px; margin: 12px 0">
							<button>
								<h2>
									<a
										class="buttonLink"
										href="https://web.archive.org/web/20250920002243/https://www.nhl.com/news/nhl-statement-on-status-of-dube-foote-formenton-hart-mcleod"
										target="_blank"
										rel="noopener noreferrer"
									>
										Official NHL Statement
									</a>
								</h2>
							</button>
							<p class="muted">
								Issued Sept 11, 2025. Archived Sept 20th, 2025
							</p>
						</div>
					</section>
				</aside>
			</div>

			<div class="template-editor">
				
			</div>
		</div>
		<!-- .container -->

		<script type="module" src="/js/emailSelector.js"></script>
		<script type="module" src="/js/templateAssigner.js"></script>
		<script>
			function clearStorage() {
				try {
					localStorage.clear();
				} catch (err) {
					return {};
				}
			}
			clearStorage();
		</script>
	</body>
</html>
